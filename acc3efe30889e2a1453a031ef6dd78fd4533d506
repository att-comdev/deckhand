{
  "comments": [
    {
      "key": {
        "uuid": "8da2ef74_4b649500",
        "filename": "deckhand/engine/layering.py",
        "patchSetId": 5
      },
      "lineNbr": 311,
      "author": {
        "id": 1011939
      },
      "writtenOn": "2018-05-14T14:14:01Z",
      "side": 1,
      "message": "Felipe, I think this is a fundamental disagreement on what replacement should be. In my mind, it can be considered only that if doc B replaces doc A, then the common ``name``  references the data section of doc B anytime a schema + name reference is resolved for substitution or final document rendering. It should not impact choosing parents for layering. The reason for this is non-intuitive results\n\n1) A layering parent could be sourced from a higher priority layer than the child\n2) The chosen layering parent may not actually contain the selectors used to choose the layering parent since document replacement refers simply to the data section, not the metadata section.",
      "range": {
        "startLine": 304,
        "startChar": 1,
        "endLine": 311,
        "endChar": 69
      },
      "revId": "acc3efe30889e2a1453a031ef6dd78fd4533d506",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b8681873_610ddbe4",
        "filename": "deckhand/engine/layering.py",
        "patchSetId": 5
      },
      "lineNbr": 311,
      "author": {
        "id": 1011942
      },
      "writtenOn": "2018-05-14T14:38:58Z",
      "side": 1,
      "message": "If you\u0027re commenting on replacement in general, then selecting just the data section over the entire document needs to be done in another patchset.",
      "parentUuid": "8da2ef74_4b649500",
      "range": {
        "startLine": 304,
        "startChar": 1,
        "endLine": 311,
        "endChar": 69
      },
      "revId": "acc3efe30889e2a1453a031ef6dd78fd4533d506",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8bdfaea8_b3f83194",
        "filename": "deckhand/engine/layering.py",
        "patchSetId": 5
      },
      "lineNbr": 311,
      "author": {
        "id": 1011942
      },
      "writtenOn": "2018-05-15T00:14:53Z",
      "side": 1,
      "message": "1) This isn\u0027t actually doing parent selection, that\u0027s handled elsewhere. This is just to deal with an edge case that I describe in a later patch after rewording this comment.\n2) Does this mean that the returned document that is replaced should return the parent\u0027s metadata or the child\u0027s metadata? This isn\u0027t validated anywhere currently except here: https://review.gerrithub.io/#/c/att-comdev/deckhand/+/409542/5/deckhand/tests/functional/gabbits/replacement/replacement.yaml@41",
      "parentUuid": "b8681873_610ddbe4",
      "range": {
        "startLine": 304,
        "startChar": 1,
        "endLine": 311,
        "endChar": 69
      },
      "revId": "acc3efe30889e2a1453a031ef6dd78fd4533d506",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "20fb789d_2f473b0c",
        "filename": "deckhand/engine/layering.py",
        "patchSetId": 5
      },
      "lineNbr": 464,
      "author": {
        "id": 1011939
      },
      "writtenOn": "2018-05-14T14:14:01Z",
      "side": 1,
      "message": "Again, probably will blow up logs.",
      "revId": "acc3efe30889e2a1453a031ef6dd78fd4533d506",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "892aed86_5fec3e2d",
        "filename": "deckhand/engine/layering.py",
        "patchSetId": 5
      },
      "lineNbr": 464,
      "author": {
        "id": 1011942
      },
      "writtenOn": "2018-05-14T14:38:58Z",
      "side": 1,
      "message": "I didn\u0027t know we used debug\u003dTrue in production, but I agree we can remove this.",
      "parentUuid": "20fb789d_2f473b0c",
      "revId": "acc3efe30889e2a1453a031ef6dd78fd4533d506",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8cc1160d_c5b29703",
        "filename": "deckhand/engine/layering.py",
        "patchSetId": 5
      },
      "lineNbr": 487,
      "author": {
        "id": 1011939
      },
      "writtenOn": "2018-05-14T14:14:01Z",
      "side": 1,
      "message": "I would probably rip these out as in production, this is going to blow up the logs.",
      "revId": "acc3efe30889e2a1453a031ef6dd78fd4533d506",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}